<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5.0">
  <title>서울서커스페스티벌 2025</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      font-family: sans-serif;
      background: #000;
      overflow: hidden;
      touch-action: pan-y pinch-zoom;
    }

    .slider-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .slides-wrapper {
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.5s ease;
    }

    .slide {
      flex: 0 0 100%;
      height: 100%;
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      background: rgba(0,0,0,0.5);
      color: #fff;
      border: none;
      cursor: pointer;
      z-index: 10;
    }

    .prev-btn { left: 10px; }
    .next-btn { right: 10px; }

    .menu-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 20;
      font-size: 1.5rem;
      background: rgba(0,0,0,0.5);
      color: #fff;
      border: none;
      padding: 10px;
      cursor: pointer;
    }

    .menu-list {
      position: absolute;
      top: 50px;
      right: 10px;
      background: rgba(0,0,0,0.7);
      display: none;
      flex-direction: column;
      z-index: 20;
    }

    .menu-list.show { display: flex; }
    .menu-list button {
      background: transparent;
      border: none;
      color: white;
      padding: 10px;
      text-align: right;
      cursor: pointer;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <button class="menu-btn" onclick="toggleMenu()">☰</button>
  <div class="menu-list" id="menuList">
    <button onclick="goToSlide(1)">🎪 축제 소개</button>
    <button onclick="goToSlide(3)">🎭 공연 정보</button>
    <button onclick="goToSlide(22)">🗓️ 일정표</button>
    <button onclick="goToSlide(25)">🗺️ 지도</button>
  </div>

  <div class="slider-container">
    <div class="slides-wrapper" id="slidesWrapper">
      <!-- 여기에 모든 슬라이드를 순서대로 추가하세요 -->
      <div class="slide"><img src="main poster.jpg" alt=""></div>
      <div class="slide"><img src="festinfo1.jpg" alt=""></div>
      <div class="slide"><img src="festinfo2.jpg" alt=""></div>
      <div class="slide"><img src="info6.jpg" alt=""></div>
      <div class="slide"><img src="info7.jpg" alt=""></div>
      <div class="slide"><img src="info8.jpg" alt=""></div>
      <div class="slide"><img src="info9.jpg" alt=""></div>
      <div class="slide"><img src="info10.jpg" alt=""></div>
      <div class="slide"><img src="info11.jpg" alt=""></div>
      <div class="slide"><img src="info12.jpg" alt=""></div>
      <div class="slide"><img src="info13.jpg" alt=""></div>
      <div class="slide"><img src="info14.jpg" alt=""></div>
      <div class="slide"><img src="info15.jpg" alt=""></div>
      <div class="slide"><img src="info16.jpg" alt=""></div>
      <div class="slide"><img src="info17.jpg" alt=""></div>
      <div class="slide"><img src="info18.jpg" alt=""></div>
      <div class="slide"><img src="program.jpg" alt=""></div>
      <div class="slide"><img src="timetable53.jpg" alt=""></div>
      <div class="slide"><img src="timetable54.jpg" alt=""></div>
      <div class="slide"><img src="timetable55.jpg" alt=""></div>
      <div class="slide"><img src="map1.jpg" alt=""></div>
      <div class="slide"><img src="map2.jpg" alt=""></div>
    </div>
    <button class="nav-btn prev-btn" onclick="changeSlide(-1)">◀</button>
    <button class="nav-btn next-btn" onclick="changeSlide(1)">▶</button>
  </div>

  <script>
    const slidesWrapper = document.getElementById('slidesWrapper');
    const totalSlides = document.querySelectorAll('.slide').length;
    let current = 0;

    function updateSlide() {
      slidesWrapper.style.transform = `translateX(-${current * 100}%)`;
    }

    function changeSlide(direction) {
      current += direction;
      if (current < 0) current = 0;
      if (current >= totalSlides) current = totalSlides - 1;
      updateSlide();
    }

    function toggleMenu() {
      document.getElementById('menuList').classList.toggle('show');
    }

    function goToSlide(index) {
      current = index;
      updateSlide();
      document.getElementById('menuList').classList.remove('show');
    }

    // 스와이프 각도 판별
    let startX = 0, startY = 0;
    let endX = 0, endY = 0;
    let isPinchZoom = false;

    document.addEventListener('touchstart', (e) => {
      if (e.touches.length > 1) {
        isPinchZoom = true;
        return;
      }
      isPinchZoom = false;
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    });

    document.addEventListener('touchend', (e) => {
      if (isPinchZoom || e.changedTouches.length > 1) return;

      endX = e.changedTouches[0].clientX;
      endY = e.changedTouches[0].clientY;

      const deltaX = endX - startX;
      const deltaY = endY - startY;
      const angle = Math.abs(Math.atan2(deltaY, deltaX) * 180 / Math.PI);

      if (Math.abs(deltaX) > 50 && (angle < 15 || angle > 165)) {
        if (deltaX < 0) changeSlide(1);
        else changeSlide(-1);
      }
    });

    updateSlide();
  </script>
</body>
</html>